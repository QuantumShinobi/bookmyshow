{% extends 'base.html' %}
{% load static %}

{% block body %}
<div class="min-h-screen bg-gray-100 py-8">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Movie Details Section -->
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="md:flex">
                <!-- Movie Poster -->
                <div class="md:flex-shrink-0">
                    <img class="h-96 w-full object-cover md:w-72" src="{{show.movie.poster_path}}" alt="Movie poster">
                </div>

                <!-- Movie Information -->
                <div class="p-8">
                    <div class="flex items-center justify-between">
                        <h1 class="text-3xl font-bold text-gray-900">{{show.movie.title}}</h1>
                        <span class="px-3 py-1 text-sm font-semibold text-green-800 bg-green-100 rounded-full">Now Showing</span>
                    </div>
                    
                    <div class="mt-4">
                        <div class="flex items-center space-x-2 text-gray-500">
                            <span>{{show.movie.duration}}</span>
                            <span>•</span>
                            <span>{{show.movie.genres}}</span>
                            <span>•</span>
                            <span>UA</span>
                        </div>
                    </div>

                    <p class="mt-4 text-gray-600">
                       {{show.movie.overview}}
                    </p>

                    {% comment %} <div class="mt-6">
                        <h2 class="text-lg font-semibold text-gray-900">Cast & Crew</h2>
                        <div class="mt-2 text-gray-600">
                            <p><span class="font-medium">Director:</span> Director Name</p>
                            <p><span class="font-medium">Stars:</span> Actor 1, Actor 2, Actor 3</p>
                        </div>
                    </div> {% endcomment %}
                    <form action="{% url "main:book" %}" method="POST">
                    {% csrf_token %}
                    <div class="mt-6">
                        <h2 class="text-lg font-semibold text-gray-900">Number of Tickets</h2>
                        <div class="flex items-center mt-2">
                            <div class="px-3 py-1 border rounded-l text-gray-600 hover:bg-gray-100 click" type="button"  onclick="decrementTickets()">-</div>
                            <input type="number" id="tickets" name="tickets" class="w-16 text-center border-y" value="1" min="1" max="10">
                            <div  type="button" class="px-3 py-1 border rounded-r text-gray-600 hover:bg-gray-100 hover:border-red-100" onclick="incrementTickets()">+</div>
                        </div>
                    </div>
                    <script>
                        function incrementTickets() {
                            let input = document.getElementById('ticketCount');
                            if(input.value < 10) input.value++;
                        }
                        function decrementTickets() {
                            let input = document.getElementById('ticketCount');
                            if(input.value > 1) input.value--;
                        }
                    </script>
                    <div class="mt-8">
                       
                        <button type="submit" class="w-full md:w-auto bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition duration-300">
                            Book Tickets
                        </button></form>
                    </div>
                </div>
            </div>

            <!-- Show Timings -->
            <div class="border-t border-gray-200 px-8 py-6">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">Show Time</h2>
                <div class="grid ">
                    <button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:border-green-500 hover:text-green-500 transition duration-300">
                        {{show.time}}
                    </button>
                    {% comment %} <button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:border-red-500 hover:text-red-500 transition duration-300">
                        1:30 PM
                    </button>
                    <button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:border-red-500 hover:text-red-500 transition duration-300">
                        4:45 PM
                    </button>
                    <button class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:border-red-500 hover:text-red-500 transition duration-300">
                        7:30 PM
                    </button>{% endcomment %}
<br>
                    <a href="{% url "main:index" %}" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:border-red-500 hover:text-red-500 transition duration-300 text-center">
                        Go back
                    </a> 
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock body %}